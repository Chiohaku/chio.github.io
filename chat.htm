<!DOCTYPE html> <html> <head> <title>Website Chat</title> <style> .chat-container { width: 500px; height: 500px; border: 1px solid black; margin: 0 auto; } .chat-messages { height: 400px; overflow-y: auto; } .chat-input { height: 100px; } .chat-username { width: 100px; } .chat-button { width: 100px; } </style> </head> <body> <div class="chat-container"> <div class="chat-messages"></div> <div class="chat-input"> <input type="text" class="chat-username" placeholder="Username"> <input type="text" class="chat-message" placeholder="Message"> <button class="chat-button">Send</button> </div> </div> <script> // Create a new chat object var chat = new Chat(); // Add a listener for the send button document.querySelector('.chat-button').addEventListener('click', function() { // Get the username and message var username = document.querySelector('.chat-username').value; var message = document.querySelector('.chat-message').value; // Send the message chat.sendMessage(username, message); }); // Add a listener for new messages chat.onMessageReceived = function(username, message) { // Add the message to the chat window var chatMessagesDiv = document.querySelector('.chat-messages'); chatMessagesDiv.innerHTML += '<p><b>' + username + ':</b> ' + message + '</p>'; }; // Save the chat history to a text file chat.onChatHistoryChanged = function() { // Get the chat history var chatHistory = chat.getChatHistory(); // Save the chat history to a text file var xhr = new XMLHttpRequest(); xhr.open('POST', '/chat/chat_history.txt'); xhr.setRequestHeader('Content-Type', 'text/plain'); xhr.send(chatHistory); }; // Start the chat chat.start(); </script> </body> </html>